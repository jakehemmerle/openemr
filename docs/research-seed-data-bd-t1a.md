# Seed Data Research Document — Task #9 (bd-t1a)

Research findings for implementing `ai-agent/scripts/seed_data.py` — a script that populates the OpenEMR dev database with realistic test data for the AI agent demo.

## 1. Database Connection (Docker)

From `docker/development-easy/docker-compose.yml`:

| Setting | Value |
|---------|-------|
| MySQL service | MariaDB 11.8 |
| Internal host (from Docker containers) | `mysql` |
| Internal port | `3306` |
| External port (from host) | `8320` |
| Root password | `root` |
| App user | `openemr` |
| App password | `openemr` |
| Database name | `openemr` |

**Connection strings:**
- From inside Docker network: `host=mysql, port=3306, user=openemr, pass=openemr, db=openemr`
- From host machine: `host=localhost, port=8320, user=openemr, pass=openemr, db=openemr`

Environment vars on openemr container: `MYSQL_HOST=mysql`, `MYSQL_USER=openemr`, `MYSQL_PASS=openemr`.

---

## 2. Table Schemas

### 2a. `patient_data` (Patients)

Key columns for seeding:

| Column | Type | Notes |
|--------|------|-------|
| `id` | bigint(20) | Auto-increment KEY (not PK — table has no explicit PK; InnoDB uses `pid` UNIQUE as clustered index) |
| `uuid` | binary(16) | UNIQUE, generated by UuidRegistry |
| `pid` | bigint(20) | UNIQUE KEY — this is the MRN |
| `pubpid` | varchar(255) | Public patient ID (defaults to pid if empty) |
| `fname` | varchar(255) | First name |
| `lname` | varchar(255) | Last name |
| `mname` | varchar(255) | Middle name |
| `DOB` | date | Date of birth |
| `sex` | varchar(255) | e.g. 'Male', 'Female' |
| `street` | varchar(255) | Street address |
| `city` | varchar(255) | City |
| `state` | varchar(255) | State |
| `postal_code` | varchar(255) | ZIP code |
| `country_code` | varchar(255) | Country code |
| `phone_home` | varchar(255) | Home phone |
| `phone_cell` | varchar(255) | Cell phone |
| `email` | varchar(255) | Email address |
| `date` | datetime | Updated timestamp |
| `regdate` | datetime | Registration/creation date |
| `providerID` | int(11) | FK to users.id |
| `status` | varchar(255) | Patient status |

**Auto-generated by PatientService**: `pid` (via `getFreshPid()`), `uuid`, `date`, `regdate`, `pubpid` (defaults to pid).

**For direct SQL**: Set `pid` to high numbers (90001-90005) to avoid conflicts with existing data. Set `pubpid` to our MRN values (TEST001-TEST005). Generate UUIDs with `UNHEX(REPLACE(UUID(), '-', ''))`.

### 2b. `openemr_postcalendar_events` (Appointments)

| Column | Type | Notes |
|--------|------|-------|
| `pc_eid` | int(11) unsigned | Auto-increment PK |
| `uuid` | binary(16) | UNIQUE |
| `pc_catid` | int(11) | FK to `openemr_postcalendar_categories.pc_catid` |
| `pc_aid` | varchar(30) | Provider user ID |
| `pc_pid` | varchar(11) | Patient pid |
| `pc_title` | varchar(150) | Appointment title |
| `pc_time` | datetime | Creation timestamp |
| `pc_hometext` | text | Comments/reason |
| `pc_eventDate` | date | Appointment date |
| `pc_endDate` | date | Defaults to '0000-00-00' |
| `pc_duration` | bigint(20) | Duration in seconds |
| `pc_startTime` | time | Start time |
| `pc_endTime` | time | End time |
| `pc_apptstatus` | varchar(15) | Status code, default '-' |
| `pc_facility` | int(11) | FK to facility.id |
| `pc_billing_location` | smallint(6) | Billing location FK |
| `pc_eventstatus` | int(11) | Default 0 in schema, set to 1 for active events in seed data |
| `pc_sharing` | int(11) | Default 0 in schema, set to 1 for active events in seed data |
| `pc_informant` | varchar(20) | User who created |
| `pc_multiple` | int(10) unsigned | For multi-provider, set to 0 |

AUTO_INCREMENT starts at 7 (6 pre-existing event records for categories).

### 2c. `form_encounter` (Encounters)

| Column | Type | Notes |
|--------|------|-------|
| `id` | bigint(20) | Auto-increment PK |
| `uuid` | binary(16) | UNIQUE |
| `date` | datetime | Encounter date |
| `reason` | longtext | Visit reason |
| `facility` | longtext | Facility name |
| `facility_id` | int(11) | FK to facility.id, default 0 |
| `pid` | bigint(20) | Patient pid |
| `encounter` | bigint(20) | Encounter number (business ID, NOT the PK) |
| `onset_date` | datetime | Onset date |
| `billing_note` | text | Billing notes |
| `pc_catid` | int(11) | Calendar category, default 5 (Office Visit) |
| `provider_id` | int(11) | FK to users.id |
| `supervisor_id` | int(11) | FK to users.id |
| `billing_facility` | int(11) | FK to facility.id |
| `pos_code` | tinyint(4) | Place of Service code |
| `class_code` | varchar(10) | Default "AMB" (ambulatory) |

**Important**: The `encounter` column is a separate business identifier, NOT the auto-increment `id`. The PHP code generates it via `QueryUtils::generateId()` (random integer). For seeding, use high values like 900001, 900002.

**When creating an encounter**, `addForm()` must also be called to create a `forms` registry entry with `form_name='New Patient Encounter'`, `formdir='newpatient'`.

### 2d. `forms` (Form Registry)

| Column | Type | Notes |
|--------|------|-------|
| `id` | bigint(20) | Auto-increment PK |
| `date` | datetime | Creation date |
| `encounter` | bigint(20) | FK to form_encounter.encounter |
| `form_name` | longtext | e.g. 'New Patient Encounter', 'SOAP', 'Vitals' |
| `form_id` | bigint(20) | FK to specific form table (form_soap.id, etc.) |
| `pid` | bigint(20) | Patient pid |
| `user` | varchar(255) | Username |
| `groupname` | varchar(255) | User group |
| `authorized` | tinyint(4) | Authorization flag |
| `deleted` | tinyint(4) | Deletion flag, default 0 |
| `formdir` | longtext | 'newpatient', 'soap', 'vitals' |
| `provider_id` | bigint(20) | FK to users.id, NOT NULL default 0 — set to 1 (admin) in seed INSERTs |

**Critical**: Every encounter MUST have a forms entry. Every SOAP note, vitals form, etc. also needs a forms entry linking back to the encounter.

### 2e. `form_soap` (SOAP Notes)

| Column | Type | Notes |
|--------|------|-------|
| `id` | bigint(20) | Auto-increment PK |
| `date` | datetime | Note creation date |
| `pid` | bigint(20) | Patient ID, default 0 |
| `user` | varchar(255) | Creating user |
| `groupname` | varchar(255) | User group |
| `authorized` | tinyint(4) | Default 0 |
| `activity` | tinyint(4) | Default 0 |
| `subjective` | text | S in SOAP |
| `objective` | text | O in SOAP |
| `assessment` | text | A in SOAP |
| `plan` | text | P in SOAP |

**From EncounterService::insertSoapNote()**: Creates form_soap record, then creates `forms` entry with `form_name='SOAP'`, `formdir='soap'`, `form_id=<soap_record_id>`.

### 2f. `form_vitals` (Vitals)

| Column | Type | Notes |
|--------|------|-------|
| `id` | bigint(20) | Auto-increment PK |
| `uuid` | binary(16) | UNIQUE |
| `date` | datetime | Vitals date |
| `pid` | bigint(20) | Patient ID |
| `user` | varchar(255) | Creating user |
| `groupname` | varchar(255) | User group |
| `authorized` | tinyint(4) | Default 0 |
| `activity` | tinyint(4) | Default 0 |
| `bps` | varchar(40) | Systolic BP |
| `bpd` | varchar(40) | Diastolic BP |
| `weight` | decimal(12,6) | Weight in lbs |
| `height` | decimal(12,6) | Height in inches |
| `temperature` | decimal(12,6) | Temperature |
| `temp_method` | varchar(255) | e.g. 'Oral' |
| `pulse` | decimal(12,6) | Pulse rate |
| `respiration` | decimal(12,6) | Respiratory rate |
| `oxygen_saturation` | decimal(6,2) | SpO2 |
| `note` | varchar(255) | Comments |
| `BMI` | decimal(12,6) | Body Mass Index |

Also needs a `forms` entry with `form_name='Vitals'`, `formdir='vitals'`.

### 2g. `billing` (Billing/Claims Codes)

| Column | Type | Notes |
|--------|------|-------|
| `id` | int(11) | Auto-increment PK |
| `date` | datetime | Billing entry date |
| `code_type` | varchar(15) | 'ICD10' for diagnoses, 'CPT4' for procedures |
| `code` | varchar(20) | The actual code (e.g. 'J06.9', '99213') |
| `code_text` | longtext | Description |
| `pid` | bigint(20) | Patient ID |
| `provider_id` | int(11) | FK to users.id |
| `user` | int(11) | Creating user ID |
| `groupname` | varchar(255) | User group |
| `authorized` | tinyint(1) | Authorization flag |
| `encounter` | int(11) | FK to form_encounter.encounter |
| `billed` | tinyint(1) | 0=unbilled, 1=billed |
| `activity` | tinyint(1) | 1=active |
| `units` | int(11) | Number of units |
| `fee` | decimal(12,2) | Fee amount |
| `modifier` | varchar(12) | Code modifier |
| `justify` | varchar(255) | ICD-10 codes justifying CPT (e.g. "J06.9:") |
| `notecodes` | varchar(25) | Default '' |

**Code type IDs** (from `code_types` table):
- `CPT4` = ct_id 1
- `ICD9` = ct_id 2
- `HCPCS` = ct_id 3
- `ICD10` = ct_id 102

**In the billing table**, `code_type` is the string key ('CPT4', 'ICD10'), NOT the numeric ct_id.

### 2h. `form_misc_billing_options`

| Column | Type | Notes |
|--------|------|-------|
| `id` | bigint(20) | Auto-increment PK |
| `date` | datetime | Date |
| `pid` | bigint(20) | Patient ID |
| `encounter` | bigint(20) | UNIQUE KEY — links to encounter |
| Various insurance fields | | CMS-1500 form fields |

Optional for basic billing demo — contains insurance-related fields.

---

## 3. Appointment Status Codes

From `list_options` with `list_id='apptstat'`:

| option_id | Title | Check-in (toggle_setting_1) | Check-out (toggle_setting_2) |
|-----------|-------|:--:|:--:|
| `-` | None (default) | | |
| `*` | Reminder done | | |
| `+` | Chart pulled | | |
| `x` | Canceled | | |
| `?` | No show | | |
| `@` | Arrived | 1 | |
| `~` | Arrived late | 1 | |
| `!` | Left w/o visit | | 1 |
| `#` | Ins/fin issue | | |
| `<` | In exam room | | |
| `>` | Checked out | | 1 |
| `$` | Coding done | | |
| `%` | Canceled < 24h | | |
| `^` | Pending | | |
| `AVM` | AVM Confirmed | | |
| `SMS` | SMS Confirmed | | |
| `EMAIL` | EMAIL Confirmed | | |
| `CALL` | Callback requested | | |

**For our seed data**: `-` (none/scheduled), `@` (arrived), `>` (checked out), `x` (canceled).

---

## 4. Calendar Categories

Pre-seeded categories from `openemr_postcalendar_categories`:

| pc_catid | constant_id | Name | Duration (sec) | Type |
|----------|-------------|------|:-:|:-:|
| 1 | no_show | No Show | 0 | 0 (patient) |
| 2 | in_office | In Office | 0 | 1 (provider) |
| 3 | out_of_office | Out Of Office | 0 | 1 (provider) |
| 4 | vacation | Vacation | 0 | 1 (provider) |
| **5** | **office_visit** | **Office Visit** | **900** | **0 (patient)** |
| 6 | holidays | Holidays | 86400 | 2 (clinic) |
| 7 | closed | Closed | 86400 | 2 (clinic) |
| 8 | lunch | Lunch | 3600 | 1 (provider) |
| 9 | established_patient | Established Patient | 900 | 0 (patient) |
| 10 | new_patient | New Patient | 1800 | 0 (patient) |
| 11 | reserved | Reserved | 900 | 1 (provider) |
| 12 | health_and_behavioral_assessment | Health and Behavioral Assessment | 900 | 0 |
| 13 | preventive_care_services | Preventive Care Services | 900 | 0 |
| 14 | ophthalmological_services | Ophthalmological Services | 900 | 0 |
| 15 | group_therapy | Group Therapy | 3600 | 3 |

**For our seed data**: Use `pc_catid=5` (Office Visit, 900s=15min) or `pc_catid=9` (Established Patient, 900s).

---

## 5. Pre-existing Data

**Facility**: ID=3 is pre-seeded as "Your Clinic Name Here" — this is the default facility.

**Users/Providers**: The admin user created during Docker setup has username `admin`, password `pass`. Its user ID will be `1` in the `users` table. This is the provider we should use for appointments (`pc_aid=1`).

---

## 6. REST API Endpoints (for reference)

The REST API has endpoints for most needed operations. Base URL: `https://localhost:9300/apis/default/api`

### Patients
- `POST /api/patient` — body: `{fname, lname, DOB, sex, ...}`
- `GET /api/patient?lname=...` — search

### Appointments
- `POST /api/patient/:pid/appointment` — body: `{pc_catid, pc_title, pc_duration, pc_hometext, pc_apptstatus, pc_eventDate, pc_startTime, pc_facility, pc_billing_location}`
- Required fields (from validator): `pc_catid`, `pc_title`, `pc_duration`, `pc_hometext`, `pc_apptstatus`, `pc_eventDate`, `pc_startTime`, `pc_facility`, `pc_billing_location`

**Note on `pc_startTime` format**: The REST API expects HH:MM (5 chars, e.g. `"14:00"`). Direct SQL uses the MySQL `time` column type which is HH:MM:SS (e.g. `'14:00:00'`). The seed script uses direct SQL, so always use HH:MM:SS format.

### Encounters
- `POST /api/patient/:puuid/encounter` — body: `{date, reason, facility_id, pc_catid, billing_facility, pos_code, provider_id, class_code}`

### SOAP Notes
- `POST /api/patient/:pid/encounter/:eid/soap_note` — body: `{subjective, objective, assessment, plan}`
- `GET /api/patient/:pid/encounter/:eid/soap_note`

### Vitals
- `POST /api/patient/:pid/encounter/:eid/vital` — body: `{bps, bpd, weight, height, temperature, pulse, respiration, ...}`

### Billing
**No REST endpoint exists.** Must use direct SQL.

### Authentication (Password Grant)
```
POST https://localhost:9300/oauth2/default/token
Content-Type: application/x-www-form-urlencoded

grant_type=password
client_id=YOUR_CLIENT_ID
scope=openid offline_access api:oemr user/Patient.read
user_role=users
username=admin
password=pass
```

Docker env already has `OPENEMR_SETTING_oauth_password_grant: 3` (enabled).

---

## 7. Direct SQL Approach (Recommended for Seeding)

Since the seed script will run as a Docker container or alongside Docker, direct SQL is simpler and more reliable than REST API (no auth setup required).

### Patient INSERT
```sql
INSERT INTO patient_data (pid, pubpid, uuid, fname, lname, DOB, sex, street, city, state,
    postal_code, phone_home, email, date, regdate, providerID)
VALUES (90001, 'TEST001', UNHEX(REPLACE(UUID(),'-','')), 'John', 'Doe', '1985-03-15',
    'Male', '123 Main St', 'Anytown', 'CA', '90210', '555-0101',
    'john.doe@example.com', NOW(), NOW(), 1);
```

### Appointment INSERT
```sql
INSERT INTO openemr_postcalendar_events (uuid, pc_catid, pc_aid, pc_pid, pc_title,
    pc_time, pc_hometext, pc_eventDate, pc_endDate, pc_duration, pc_startTime,
    pc_endTime, pc_apptstatus, pc_facility, pc_billing_location, pc_eventstatus,
    pc_sharing, pc_informant, pc_multiple)
VALUES (UNHEX(REPLACE(UUID(),'-','')), 5, '1', '90001', 'Office Visit', NOW(),
    'Follow-up visit', CURDATE(), '0000-00-00', 900, '14:00:00', '14:15:00',
    '@', 3, 3, 1, 1, '1', 0);
```

### Encounter INSERT (2 steps)
```sql
-- Step 1: Insert form_encounter
INSERT INTO form_encounter (uuid, date, reason, facility, facility_id, pid, encounter,
    pc_catid, provider_id, billing_facility, pos_code, class_code)
VALUES (UNHEX(REPLACE(UUID(),'-','')), '2026-02-22 10:00:00', 'Persistent cough',
    'Your Clinic Name Here', 3, 90001, 900001, 5, 1, 3, 11, 'AMB');

-- Step 2: Register in forms table
INSERT INTO forms (date, encounter, form_name, form_id, pid, user, groupname,
    authorized, deleted, formdir, provider_id)
VALUES (NOW(), 900001, 'New Patient Encounter', LAST_INSERT_ID(), 90001,
    'admin', 'Default', 1, 0, 'newpatient', 1);
```

### SOAP Note INSERT (2 steps)
```sql
-- Step 1: Insert form_soap
INSERT INTO form_soap (date, pid, user, groupname, authorized, activity,
    subjective, objective, assessment, plan)
VALUES (NOW(), 90001, 'admin', 'Default', 1, 1,
    'Patient reports persistent cough...',
    'Temp 99.8F, BP 128/82...',
    'Acute upper respiratory infection',
    'Rest, fluids, follow up 1 week...');

-- Step 2: Register in forms table
INSERT INTO forms (date, encounter, form_name, form_id, pid, user, groupname,
    authorized, deleted, formdir, provider_id)
VALUES (NOW(), 900001, 'SOAP', LAST_INSERT_ID(), 90001, 'admin', 'Default',
    1, 0, 'soap', 1);
```

### Vitals INSERT (2 steps)
```sql
-- Step 1: Insert form_vitals
INSERT INTO form_vitals (uuid, date, pid, user, groupname, authorized, activity,
    bps, bpd, weight, height, temperature, temp_method, pulse, respiration,
    oxygen_saturation)
VALUES (UNHEX(REPLACE(UUID(),'-','')), NOW(), 90001, 'admin', 'Default', 1, 1,
    '128', '82', 180.0, 70.0, 99.8, 'Oral', 76.0, 16.0, 98.0);

-- Step 2: Register in forms table
INSERT INTO forms (date, encounter, form_name, form_id, pid, user, groupname,
    authorized, deleted, formdir, provider_id)
VALUES (NOW(), 900001, 'Vitals', LAST_INSERT_ID(), 90001, 'admin', 'Default',
    1, 0, 'vitals', 1);
```

### Billing INSERT
```sql
-- ICD-10 Diagnosis
INSERT INTO billing (date, code_type, code, code_text, pid, provider_id, user,
    groupname, authorized, encounter, billed, activity, units, fee, justify)
VALUES (NOW(), 'ICD10', 'J06.9', 'Acute upper respiratory infection, unspecified',
    90001, 1, 1, 'Default', 1, 900001, 0, 1, 1, 0.00, '');

-- CPT4 Procedure
INSERT INTO billing (date, code_type, code, code_text, pid, provider_id, user,
    groupname, authorized, encounter, billed, activity, units, fee, justify, modifier)
VALUES (NOW(), 'CPT4', '99213', 'Office/outpatient visit, est patient, low complexity',
    90001, 1, 1, 'Default', 1, 900001, 0, 1, 1, 75.00, 'J06.9:', '');

-- ICD-10: Type 2 Diabetes Mellitus (for chronic condition scenarios)
INSERT INTO billing (date, code_type, code, code_text, pid, provider_id, user,
    groupname, authorized, encounter, billed, activity, units, fee, justify)
VALUES (NOW(), 'ICD10', 'E11.9', 'Type 2 diabetes mellitus without complications',
    90001, 1, 1, 'Default', 1, 900001, 0, 1, 1, 0.00, '');

-- ICD-10: Essential Hypertension (for chronic condition scenarios)
INSERT INTO billing (date, code_type, code, code_text, pid, provider_id, user,
    groupname, authorized, encounter, billed, activity, units, fee, justify)
VALUES (NOW(), 'ICD10', 'I10', 'Essential (primary) hypertension',
    90001, 1, 1, 'Default', 1, 900001, 0, 1, 1, 0.00, '');
```

**Note**: The `justify` field on CPT codes holds the ICD-10 diagnosis code(s) that justify the procedure, colon-separated (e.g. `'J06.9:'`).

---

## 8. Idempotency Approach

**Recommended approach**: Check if seed data exists by querying for known `pubpid` values (TEST001-TEST005) before inserting.

```python
cursor.execute("SELECT pid FROM patient_data WHERE pubpid = %s", ('TEST001',))
if not cursor.fetchone():
    cursor.execute("INSERT INTO patient_data ...")
```

**For appointments/encounters**: Check by patient pid + encounter ID combo, or use specific encounter IDs we control (high range like 900001+).

**Alternative MySQL patterns**:
- `INSERT IGNORE` — works with UNIQUE constraints (patient_data has `UNIQUE KEY pid(pid)`)
- `SELECT-before-INSERT` — most explicit, works for all tables

**Cleanup/re-run**: Consider a `--clean` flag that DELETEs all seed data first (based on known PIDs/encounter IDs in the 90000+ range).

---

## 9. Seed Data Spec

### 5 Patients

| MRN (pubpid) | pid | Name | DOB | Sex |
|---|---|---|---|---|
| TEST001 | 90001 | John Doe | 1985-03-15 | Male |
| TEST002 | 90002 | Jane Smith | 1990-07-22 | Female |
| TEST003 | 90003 | Robert Johnson | 1978-11-03 | Male |
| TEST004 | 90004 | Maria Garcia | 1995-01-30 | Female |
| TEST005 | 90005 | James Wilson | 1960-09-18 | Male |

### 10+ Appointments (dates relative to script run date)

1. John Doe — today 2:00 PM — status `@` (arrived) — **THE demo appointment**
2. John Doe — today 3:30 PM — status `-` (scheduled)
3. Jane Smith — today 10:00 AM — status `>` (checked out)
4. Jane Smith — tomorrow 9:00 AM — status `-` (scheduled)
5. Robert Johnson — today 11:00 AM — status `x` (cancelled)
6. Maria Garcia — today 1:00 PM — status `@` (arrived)
7. James Wilson — today 4:00 PM — status `-` (scheduled)
8. John Doe — yesterday — status `>` (completed) — has encounter
9-10+. Historical appointments scattered over past 30 days

### Encounters

- **Encounter 900001**: John Doe yesterday — completed, with SOAP, vitals, billing
- **Encounter 900002**: Jane Smith today — completed, with progress note

### Billing

- **Encounter 900001 (COMPLETE)**: ICD-10 J06.9 + CPT 99213 + fee + justify
- **Encounter 900002 (INCOMPLETE)**: Missing dx or CPT — for validate_claim demo

### SOAP Note for John Doe (encounter 900001)

- **S**: "Patient reports persistent cough for 3 days with low-grade fever. No shortness of breath. Mild sore throat."
- **O**: "Temp 99.8F, BP 128/82, HR 76, RR 16, SpO2 98%. Oropharynx mildly erythematous. Lungs clear to auscultation bilaterally."
- **A**: "Acute upper respiratory infection (J06.9)"
- **P**: "Rest and adequate fluids. OTC antipyretics for fever. Follow up in 1 week if symptoms persist or worsen."

---

## 10. Important Notes and Gotchas

1. **`user` column type varies by table**: In `billing`, `user` is `int(11)` (numeric user ID, e.g. `1`). In `forms`, `form_soap`, and `form_vitals`, `user` is `varchar(255)` (username string, e.g. `'admin'`). The INSERT templates in section 7 already handle this correctly — billing uses `1`, forms/soap/vitals use `'admin'`.
2. **UUID columns** are binary(16). Use `UNHEX(REPLACE(UUID(), '-', ''))` in SQL.
3. **`encounter` column** in form_encounter is NOT the auto-increment `id`. It's a separate generated number. The `id` is the row PK, `encounter` is the business identifier used everywhere else.
4. **Every form needs a `forms` table entry**. Without it, the form won't appear in the UI.
5. **The `pid` in patient_data is UNIQUE** but is NOT auto-increment — it's assigned by `getFreshPid()` which finds MAX(pid)+1. Using high PIDs (90001+) avoids conflicts.
6. **Provider ID**: The admin user will have `id=1` in the `users` table.
7. **Facility ID**: Default facility is `id=3`.
8. **Billing `code_type`** uses the string key ('CPT4', 'ICD10'), not the numeric ID.
9. **Temperature** in form_vitals is stored as decimal — the unit depends on system settings (Fahrenheit by default in US).
10. **Weight/height** in form_vitals: weight in lbs, height in inches (US default).
11. The `pc_endTime` should be calculated as startTime + duration.
12. **`pc_endDate`** defaults to `'0000-00-00'` for non-recurring appointments.
13. **`pc_multiple`** should be set to `0` for single-provider appointments.
14. **LAST_INSERT_ID()** in MySQL can be used to chain inserts (e.g., insert form_soap, then use LAST_INSERT_ID() as form_id in the forms registry).
